<!DOCTYPE html>
<html lang="ko"
      xmlns:layout="http://www.w3.org/1999/xhtml"
      layout:decorate="~{/layout/layout_manage}">
<head>
    <title>메뉴 관리</title>
    <link rel="stylesheet" href="/css/back.css" />
</head>
<body>
<div layout:fragment="content" class="content">

    <div class="menuContainer">
        <div class="menu">
            <h2>메뉴 관리</h2>
            <form name="frm" id="frm">
                <input type="hidden" name="category" id="category" value="" />
                <input type="hidden" name="currentPage" id="currentPage" th:value="${PAGINATION.getPage()}" />

                <ul class="categoryList">
                    <li><a href="/manage/menu" th:class="${CATEGORY == '' } ? 'on'">All</a></li>
                    <li><a href="/manage/menu?category=1" th:class="${CATEGORY eq '1' } ? 'on'">Coffee</a></li>
                    <li><a href="/manage/menu?category=2" th:class="${CATEGORY eq '2' } ? 'on'">Non Coffee</a></li>
                    <li><a href="/manage/menu?category=3" th:class="${CATEGORY eq '3' } ? 'on'">Tea &amp; Ade</a></li>
                    <li><a href="/manage/menu?category=4" th:class="${CATEGORY eq '4' } ? 'on'">Dessert</a></li>
                </ul>

                <table class="tbTypeBoard menu">
                    <colgroup>
                        <col style="width:80px" />
                        <col style="width:150px" />
                        <col style="width:150px" />
                        <col style="" />
                        <col style="width:250px" />
                        <col style="width:180px" />
                        <col style="width:120px;" />
                    </colgroup>
                    <thead>
                    <tr>
                        <th>번호 </th>
                        <th>구분 </th>
                        <th>사진 </th>
                        <th>메뉴명 </th>
                        <th>메뉴 설명 </th>
                        <th>특징 </th>
                        <th>등록일시 </th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:if="${!MENU_LIST.isEmpty()}" th:each="menu, loop:${MENU_LIST}">
                        <td>
                            <input type="hidden" th:name="|id_${menu.id}|" th:value="${menu.id}" />
                            <span th:text="${PAGINATION.totalElements - ((PAGINATION.page - 1) * PAGINATION.pageSize) - loop.index}"></span>
                        </td>
                        <td><span th:text="${menu.category.categoryName}"></span></td>
                        <td>
                            <a th:if="${CATEGORY == null or CATEGORY == ''}"
                               th:href="@{/manage/menu/{id}(id=${menu.id}, currentPage=${PAGINATION.page})}"><span class="thumb"><img th:src="${menu.imagePath}" alt="" /></span></a>
                            <a th:if="${CATEGORY != null and CATEGORY != ''}"
                               th:href="@{/manage/menu/{id}(id=${menu.id}, currentPage=${PAGINATION.page}, category=${CATEGORY})}"><span class="thumb"><img th:src="${menu.imagePath}" alt="" /></span></a>
                        </td>
                        <td>
                            <a th:if="${CATEGORY == null or CATEGORY == ''}"
                               th:href="@{/manage/menu/{id}(id=${menu.id}, currentPage=${PAGINATION.page})}"><span th:text="${menu.name_kr}"></span> <br><span class="small" th:text="|(${menu.name_en})|"></span></a>
                            <a th:if="${CATEGORY != null and CATEGORY != ''}"
                               th:href="@{/manage/menu/{id}(id=${menu.id}, currentPage=${PAGINATION.page}, category=${CATEGORY})}"><span th:text="${menu.name_kr}"></span> <br><span class="small" th:text="|(${menu.name_en})|"></span></a>
                        </td>
                        <td class="desc" th:utext="${menu.description}"></td>
                        <td class="desc">
                            <span th:if="${menu.signatureYN == 'Y'}" class="ico"><img src="/images/common/SVG/ico_signature.svg" alt="시그니쳐" /></span>
                            <span th:if="${menu.bestYN == 'Y'}" class="ico"><img src="/images/common/SVG/ico_best.svg" alt="Best" /></span>
                            <span th:if="${menu.newYN == 'Y'}" class="ico"><img src="/images/common/SVG/ico_new.svg" alt="NEW" /></span>
                        </td>
                        <td><span th:text="${menu.status == '1'} ? '게시중' : '숨김'"></span></td>
                    </tr>
                    <tr th:if="${MENU_LIST.isEmpty()}">
                        <td colspan="6" class="empty">해당 게시물이 없습니다. </td>
                    </tr>
                    </tbody>
                </table>

                <div class="listBottom">
                    <div class="paging" th:replace="~{/layout/pagination :: pagination}"></div>
                    <div class="func">
                        <a href="/manage/menu/regNewMenuItem" class="btn btn-secondary">메뉴 등록</a>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
</body>
</html>